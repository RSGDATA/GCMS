(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[257],{1940:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(5155),r=s(2115),l=s(6874),n=s.n(l),o=s(5695),i=s(227),c=s(8883),d=s(2919),m=s(1007),u=s(9420),p=s(5674),x=s(851);let h="https://fwkgwbzvsievnchjxgtq.supabase.co",b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ3a2d3Ynp2c2lldm5jaGp4Z3RxIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NzQ5NDU5OCwiZXhwIjoyMDYzMDcwNTk4fQ.AAxBvOtIVFG1SdUIFuP7fDacBMxMrJv3P1OSq6Psfj8";if(!h||!b)throw Error("Missing Supabase environment variables");let g=(0,x.UU)(h,b);function f(){let e=(0,o.useRouter)(),[t,s]=(0,r.useState)(!0),[l,x]=(0,r.useState)(!1),[h,b]=(0,r.useState)(""),[f,v]=(0,r.useState)({email:"",password:"",name:"",phone:"",instrument:"",experience_level:"professional"}),y=async a=>{a.preventDefault(),x(!0),b("");try{if(t){if(!f.email||!f.password){b("Please enter both email and password"),x(!1);return}b("Login successful! Redirecting to dashboard..."),setTimeout(()=>{e.push("/musicians/dashboard")},1500)}else{if(!f.email||!f.name||!f.phone||!f.instrument){b("Please fill in all required fields"),x(!1);return}console.log("Musician application submitted:",{email:f.email,name:f.name,phone:f.phone,instrument:f.instrument,experience_level:f.experience_level,timestamp:new Date().toISOString()});try{let e={email:f.email,name:f.name,phone:f.phone,instrument:f.instrument,experience_level:f.experience_level};console.log("Attempting to insert musician data:",e);let{data:t,error:s}=await g.from("musicians").insert([e]).select();if(s){console.error("Database error:",s),console.error("Error details:",{code:s.code,message:s.message,details:s.details,hint:s.hint}),"42P01"===s.code?b("Application received but could not be saved: The musicians table does not exist in the database. Please contact the administrator to set up the database."):"23505"===s.code?b("A musician with this email is already registered."):"PGRST116"===s.code?b("Application received but could not be saved: The table schema may not match the expected format. Please contact the administrator."):b("Application received but could not be saved to database: ".concat(s.message||"Unknown error",". Please contact the administrator.")),x(!1);return}console.log("Successfully saved to database:",t),b("Application submitted successfully! Your information has been saved to our database and we will contact you if there are suitable openings.")}catch(e){console.error("Database connection error:",e),console.error("Error details:",{name:null==e?void 0:e.name,message:null==e?void 0:e.message,stack:null==e?void 0:e.stack}),b("Application received but database connection failed. Please contact the administrator to ensure the database is properly configured."),x(!1);return}setTimeout(()=>{s(!0),v({email:"",password:"",name:"",phone:"",instrument:"",experience_level:"professional"}),b("")},4e3)}}catch(e){console.error("Unexpected error:",e),t?b("Login failed. Please try again."):b("An unexpected error occurred. Please try again.")}finally{x(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[(0,a.jsx)("nav",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,a.jsxs)(n(),{href:"/",className:"flex items-center space-x-3",children:[(0,a.jsx)("img",{src:"".concat("/GCMS","/GCMS_Logo.png"),alt:"GCMS Logo",className:"h-12 w-auto object-contain"}),(0,a.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:"Greenville Chamber Music Society"}),(0,a.jsx)("span",{className:"sm:hidden",children:"GCMS"})]})]}),(0,a.jsxs)("div",{className:"hidden md:flex space-x-8",children:[(0,a.jsx)(n(),{href:"/",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium uppercase text-sm tracking-wide",children:"Home"}),(0,a.jsx)(n(),{href:"/concerts",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium uppercase text-sm tracking-wide",children:"Concerts"}),(0,a.jsx)(n(),{href:"/calendar",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium uppercase text-sm tracking-wide",children:"Calendar"}),(0,a.jsx)(n(),{href:"/about",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium uppercase text-sm tracking-wide",children:"About"}),(0,a.jsx)(n(),{href:"/musicians/login",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors font-medium text-sm",children:"Musicians"}),(0,a.jsx)(n(),{href:"/students/signup",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium uppercase text-sm tracking-wide",children:"Student Program"})]})]})})}),(0,a.jsx)("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.A,{className:"mx-auto h-12 w-12 text-blue-600"}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:t?"Musician Portal":"Join Our Orchestra"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:t?"Sign in to access your musician dashboard":"Apply to become a member of our orchestra"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:y,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:f.email,onChange:e=>v({...f,email:e.target.value}),className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]})]}),t&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:f.password,onChange:e=>v({...f,password:e.target.value}),className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),!t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)(m.A,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:f.name,onChange:e=>v({...f,name:e.target.value}),className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)(u.A,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,value:f.phone,onChange:e=>v({...f,phone:e.target.value}),className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your phone number"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"instrument",className:"block text-sm font-medium text-gray-700",children:"Primary Instrument"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{id:"instrument",name:"instrument",type:"text",required:!0,value:f.instrument,onChange:e=>v({...f,instrument:e.target.value}),className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"e.g., Violin, Piano, Trumpet"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"experience_level",className:"block text-sm font-medium text-gray-700",children:"Experience Level"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("select",{id:"experience_level",name:"experience_level",required:!0,value:f.experience_level,onChange:e=>v({...f,experience_level:e.target.value}),className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",children:[(0,a.jsx)("option",{value:"beginner",children:"Beginner"}),(0,a.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,a.jsx)("option",{value:"advanced",children:"Advanced"}),(0,a.jsx)("option",{value:"professional",children:"Professional"})]})})]}),(0,a.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"Note:"})," Orchestra positions are by invitation only. We will review your application and contact you if there are openings that match your expertise."]})})]})]}),h&&(0,a.jsx)("div",{className:"text-center text-sm p-3 rounded-lg ".concat(h.includes("successfully")&&h.includes("saved to our database")?"bg-green-900/50 text-green-300 border border-green-700":h.includes("could not be saved")||h.includes("failed")||h.includes("error")?"bg-red-900/50 text-red-300 border border-red-700":"bg-yellow-900/50 text-yellow-300 border border-yellow-700"),children:h}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Processing...":t?"Sign In":"Submit Application"})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{type:"button",onClick:()=>{s(!t),b(""),v({email:"",password:"",name:"",phone:"",instrument:"",experience_level:"professional"})},className:"text-blue-600 hover:text-blue-700 text-sm transition-colors",children:t?"Want to join our orchestra? Apply here":"Already have an account? Sign in"})})]})]})})]})}},7730:(e,t,s)=>{Promise.resolve().then(s.bind(s,1940))}},e=>{var t=t=>e(e.s=t);e.O(0,[95,23,441,684,358],()=>t(7730)),_N_E=e.O()}]);